"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[4542],{1768:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>j,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"rules","title":"Setting Up Rules","description":"Learn how to create and configure rules in Adobe Launch to load the Zeotap SDK, track events, and sync user identities.","source":"@site/docs/adobe/rules.md","sourceDirName":".","slug":"/rules","permalink":"/zeotap-web-sdk-docs/adobeLaunch/docs/rules","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1747633913000,"sidebarPosition":4,"frontMatter":{"title":"Setting Up Rules","sidebar_position":4,"description":"Learn how to create and configure rules in Adobe Launch to load the Zeotap SDK, track events, and sync user identities."},"sidebar":"gtm","previous":{"title":"Configuring the Zeotap Collect Extension","permalink":"/zeotap-web-sdk-docs/adobeLaunch/docs/configure"},"next":{"title":"Use Cases & Examples","permalink":"/zeotap-web-sdk-docs/adobeLaunch/docs/adobe-launch-use-cases"}}');var l=i(4848),t=i(8453);const o={title:"Setting Up Rules",sidebar_position:4,description:"Learn how to create and configure rules in Adobe Launch to load the Zeotap SDK, track events, and sync user identities."},r="Setting Up Rules",c={},d=[{value:"Rule 2: Track Events (e.g., Page View)",id:"rule-2-track-events-eg-page-view",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Example: Page View Tracking",id:"example-page-view-tracking",level:3},{value:"Optional: Add Conditions",id:"optional-add-conditions",level:4},{value:"Rule 3: Sync User Identities",id:"rule-3-sync-user-identities",level:2},{value:"Purpose",id:"purpose-1",level:3},{value:"Steps",id:"steps",level:3},{value:"Sample JavaScript to Fire the Rule:",id:"sample-javascript-to-fire-the-rule",level:3},{value:"Rule 4 (Optional): Set Consent Using Custom Logic",id:"rule-4-optional-set-consent-using-custom-logic",level:2},{value:"Additional Notes",id:"additional-notes",level:2},{value:"Rule 1: Load Zeotap SDK",id:"rule-1-load-zeotap-sdk",level:2},{value:"Purpose",id:"purpose-2",level:3},{value:"Steps",id:"steps-1",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"setting-up-rules",children:"Setting Up Rules"})}),"\n",(0,l.jsxs)(n.p,{children:["In Adobe Launch, ",(0,l.jsx)(n.strong,{children:"Rules"})," define when and how extensions should act. The Zeotap Collect Extension relies on rules to determine when to:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Load the Zeotap SDK"}),"\n",(0,l.jsx)(n.li,{children:"Send events (e.g., page views, clicks, form submissions)"}),"\n",(0,l.jsx)(n.li,{children:"Sync user identities"}),"\n",(0,l.jsx)(n.li,{children:"Set consent or additional properties"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"A rule in Adobe Launch follows the structure:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Event \u2192 Condition (optional) \u2192 Action\n"})}),"\n",(0,l.jsx)(n.p,{children:"This section walks you through configuring all essential rules for Zeotap integration."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"rule-2-track-events-eg-page-view",children:"Rule 2: Track Events (e.g., Page View)"}),"\n",(0,l.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,l.jsx)(n.p,{children:"Sends custom events to Zeotap when user interactions occur."}),"\n",(0,l.jsx)(n.h3,{id:"example-page-view-tracking",children:"Example: Page View Tracking"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Create a new rule named: ",(0,l.jsx)(n.code,{children:"Track Page View"})]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Events"}),", select:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Core \u2192 DOM Ready"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Actions"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Extension: ",(0,l.jsx)(n.strong,{children:"Zeotap Collect"})]}),"\n",(0,l.jsxs)(n.li,{children:["Action Type: ",(0,l.jsx)(n.strong,{children:"Track Event"})]}),"\n",(0,l.jsxs)(n.li,{children:["Event Name: ",(0,l.jsx)(n.code,{children:"page_view"})]}),"\n",(0,l.jsx)(n.li,{children:"Add any additional properties (optional)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"optional-add-conditions",children:"Optional: Add Conditions"}),"\n",(0,l.jsxs)(n.p,{children:["You can limit this rule to certain pages (e.g., homepage) using ",(0,l.jsx)(n.strong,{children:"Path or URL conditions"}),"."]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Track Event Rule",src:i(5443).A+"",width:"158",height:"32"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"rule-3-sync-user-identities",children:"Rule 3: Sync User Identities"}),"\n",(0,l.jsx)(n.h3,{id:"purpose-1",children:"Purpose"}),"\n",(0,l.jsx)(n.p,{children:"Synchronizes user identifiers like email, phone, or login ID with Zeotap."}),"\n",(0,l.jsx)(n.h3,{id:"steps",children:"Steps"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Create a rule: ",(0,l.jsx)(n.code,{children:"Sync User Identity"})]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Events"}),", use:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Direct Call Rule"})," with identifier: ",(0,l.jsx)(n.code,{children:"sync_identity"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Actions"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Extension: ",(0,l.jsx)(n.strong,{children:"Zeotap Collect"})]}),"\n",(0,l.jsxs)(n.li,{children:["Action Type: ",(0,l.jsx)(n.strong,{children:"Sync User Identity"})]}),"\n",(0,l.jsx)(n.li,{children:"Select which identities to sync (e.g., email, phone, CRM ID)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"sample-javascript-to-fire-the-rule",children:"Sample JavaScript to Fire the Rule:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"_satellite.setVar('email', 'user@example.com');\n_satellite.setVar('phone', '14155552671');\n_satellite.track('sync_identity');\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Sync Identity Rule",src:i(5443).A+"",width:"158",height:"32"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"rule-4-optional-set-consent-using-custom-logic",children:"Rule 4 (Optional): Set Consent Using Custom Logic"}),"\n",(0,l.jsxs)(n.p,{children:["If you've configured the extension to use ",(0,l.jsx)(n.strong,{children:"Custom Consent"}),", create a rule to explicitly call:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"window.zeotap && window.zeotap.setConsent(true);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["You can place this in a ",(0,l.jsx)(n.strong,{children:"Custom Code Action"}),", triggered by:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"a cookie acceptance banner click"}),"\n",(0,l.jsx)(n.li,{children:"a CMP signal"}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Set Consent Rule",src:i(5443).A+"",width:"158",height:"32"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"additional-notes",children:"Additional Notes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["You can reuse ",(0,l.jsx)(n.strong,{children:"Data Elements"})," for identity variables like email, phone, or login ID."]}),"\n",(0,l.jsxs)(n.li,{children:["Use ",(0,l.jsx)(n.strong,{children:"Conditions"})," to scope rules to specific environments (e.g., dev vs prod) or paths."]}),"\n",(0,l.jsxs)(n.li,{children:["You may chain multiple ",(0,l.jsx)(n.strong,{children:"Track Event"})," actions in a single rule if needed."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.p,{children:"Deprecated"}),"\n",(0,l.jsx)(n.h2,{id:"rule-1-load-zeotap-sdk",children:"Rule 1: Load Zeotap SDK"}),"\n",(0,l.jsx)(n.h3,{id:"purpose-2",children:"Purpose"}),"\n",(0,l.jsx)(n.p,{children:"Loads the Zeotap SDK on every page where you want to collect data."}),"\n",(0,l.jsx)(n.h3,{id:"steps-1",children:"Steps"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Navigate to ",(0,l.jsx)(n.strong,{children:"Rules > Create New Rule"})]}),"\n",(0,l.jsxs)(n.li,{children:["Name it: ",(0,l.jsx)(n.code,{children:"Load Zeotap SDK"})]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Events"}),", choose:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.strong,{children:"Library Loaded (Page Top)"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Under ",(0,l.jsx)(n.strong,{children:"Actions"}),":","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Extension: ",(0,l.jsx)(n.strong,{children:"Zeotap Collect"})]}),"\n",(0,l.jsxs)(n.li,{children:["Action Type: ",(0,l.jsx)(n.strong,{children:"Load SDK"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Click ",(0,l.jsx)(n.strong,{children:"Save"})," and add it to your build library"]}),"\n"]}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Load SDK Rule",src:i(5443).A+"",width:"158",height:"32"})}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},5443:(e,n,i)=>{i.d(n,{A:()=>s});const s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTU4IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTU4IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMjM4Ml8zMjk1KSI+CjxwYXRoIGQ9Ik0zMC44IDIzLjNDMzEuMiAyNS4xIDMxLjUgMjYuOSAzMS42IDI4LjhDMzAgMjkuNSAyOC40IDMwIDI2LjcgMzAuNUMyMy4zIDMxLjQgMTkuNyAzMS45IDE2IDMxLjlDMTIuMiAzMS45IDguNSAzMS40IDUgMzAuNEM1LjMgMjguNSA1LjcgMjYuNyA2LjIgMjQuOUM5LjQgMjUuNyAxMi43IDI2LjEgMTYgMjYuMUMxOS4zIDI2LjEgMjIuNCAyNS43IDI1LjUgMjVDMjcuMyAyNC41IDI5LjEgMjQgMzAuOCAyMy4zWiIgZmlsbD0iIzAwMTU0RiIvPgo8cGF0aCBkPSJNMjAuNiA0LjI5OTk4QzI1LjYgOS40OTk5OCAyOS4yIDE2IDMwLjggMjMuM0MyOS4xIDI0IDI3LjMgMjQuNSAyNS41IDI1QzIzLjcgMTguNyAyMC40IDEzIDE2IDguMzk5OThDMTQuNiA2Ljg5OTk4IDEzIDUuNDk5OTggMTEuMyA0LjE5OTk4QzEyLjcgMi42OTk5OCAxNC4zIDEuMjk5OTggMTYgMC4wOTk5NzU2QzE3LjYgMS4zOTk5OCAxOS4yIDIuNzk5OTggMjAuNiA0LjI5OTk4WiIgZmlsbD0iIzEwNjVEOCIvPgo8cGF0aCBkPSJNMTEuMzAwMSA0LjE5OTk1QzEzLjAwMDEgNS40OTk5NSAxNC41MDAxIDYuODk5OTUgMTYuMDAwMSA4LjM5OTk1QzE0LjMwMDEgMTAuMiAxMi43MDAxIDEyLjEgMTEuMzAwMSAxNC4yQzEwLjQwMDEgMTUuNiA5LjUwMDEgMTcgOC44MDAxIDE4LjVDNy44MDAxIDIwLjUgNy4wMDAxIDIyLjYgNi4zMDAxIDI0LjhDNS44MDAxIDI2LjYgNS40MDAxIDI4LjQgNS4xMDAxIDMwLjNDMy40MDAxIDI5LjggMS43MDAxIDI5LjIgMC4xMDAwOTggMjguNUMwLjMwMDA5OCAyNi42IDAuNjAwMDk4IDI0LjggMS4wMDAxIDIzLjFDMS43MDAxIDIwLjEgMi44MDAxIDE3LjIgNC4xMDAxIDE0LjRMNi41MDAxIDEwLjFDNy45MDAxIDcuOTk5OTUgOS41MDAxIDUuOTk5OTUgMTEuMzAwMSA0LjE5OTk1WiIgZmlsbD0iIzEwMjc5MSIvPgo8cGF0aCBkPSJNNDIuNzAwMiAyNC4yTDUxLjcwMDIgMTIuNEw1My4zMDAyIDEwLjNINDguMTAwMkg0My4xMDAyVjguMjk5OTlINTYuMjAwMlY5Ljk5OTk5TDQ3LjIwMDIgMjEuOEw0NS42MDAyIDIzLjlINTAuODAwMkg1Ni4yMDAyVjI2SDQyLjcwMDJWMjQuMloiIGZpbGw9IiMwMDE1NEYiLz4KPHBhdGggZD0iTTc2LjggOC4yOTk5OVYxMC40SDY3VjE1LjlINzUuOVYxOEg2N1YyMy45SDc3LjNWMjZINjQuOFY4LjI5OTk5SDc2LjhaIiBmaWxsPSIjMDAxNTRGIi8+CjxwYXRoIGQ9Ik04Ny4zIDE3LjFDODcuMyAyMC44IDg4LjQgMjQuMSA5Mi42IDI0LjFDOTYuOSAyNC4xIDk3LjkgMjAuOCA5Ny45IDE3LjFDOTcuOSAxMy40IDk2LjggMTAuMSA5Mi42IDEwLjFDODguNCAxMC4xIDg3LjMgMTMuMyA4Ny4zIDE3LjFaTTg1IDE3LjFDODUgMTEuNiA4Ny4zIDggOTIuNyA4Qzk4LjEgOCAxMDAuNCAxMS42IDEwMC40IDE3LjFDMTAwLjQgMjIuNiA5OC4xIDI2LjIgOTIuNyAyNi4yQzg3LjMgMjYuMiA4NSAyMi42IDg1IDE3LjFaIiBmaWxsPSIjMDAxNTRGIi8+CjxwYXRoIGQ9Ik0xMTMuNiAyNS45SDExMS4zVjEwLjRIMTA2VjguMjk5OTlIMTE5LjFWMTAuNEgxMTMuN1YyNS45SDExMy42WiIgZmlsbD0iIzAwMTU0RiIvPgo8cGF0aCBkPSJNMTMxIDExTDEyOC4xIDE4LjlIMTMzLjhMMTMxIDExWk0xMjkuOSA4LjE5OTk1SDEzMi4xTDEzOC45IDI2SDEzNi41TDEzNC42IDIwLjlIMTI3LjRMMTI1LjUgMjZIMTIzLjFMMTI5LjkgOC4xOTk5NVoiIGZpbGw9IiMwMDE1NEYiLz4KPHBhdGggZD0iTTE1Mi41IDE2LjhDMTUzLjkgMTYuOCAxNTUuNyAxNi40IDE1NS43IDEzLjZDMTU1LjcgMTAuOCAxNTMuOSAxMC40IDE1Mi41IDEwLjRIMTQ4VjE2LjhIMTUyLjVaTTE0OCAyNS45SDE0NS43VjguMjk5OTlIMTUyLjJDMTU1IDguMjk5OTkgMTU4IDkuMjk5OTkgMTU4IDEzLjZDMTU4IDE3LjggMTU1IDE4LjkgMTUyLjIgMTguOUgxNDhWMjUuOVoiIGZpbGw9IiMwMDE1NEYiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8yMzgyXzMyOTUiPgo8cmVjdCB3aWR0aD0iMTU4IiBoZWlnaHQ9IjMxLjgiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDAuMDk5OTc1NikiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>r});var s=i(6540);const l={},t=s.createContext(l);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);