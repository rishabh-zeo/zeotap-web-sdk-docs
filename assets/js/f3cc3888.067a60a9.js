"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[605],{5188:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>d,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"APIReference/setUserIdentites","title":"Set User Identities","description":"Send identifiers to persistently identify user activity across the website.","source":"@site/docs/APIReference/setUserIdentites.md","sourceDirName":"APIReference","slug":"/APIReference/setUserIdentites","permalink":"/zeotap-web-sdk-docs/docs/APIReference/setUserIdentites","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/APIReference/setUserIdentites.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Set User Identities","description":"Send identifiers to persistently identify user activity across the website."},"sidebar":"tutorialSidebar","previous":{"title":"API References","permalink":"/zeotap-web-sdk-docs/docs/category/api-references"},"next":{"title":"Set Page Properties","permalink":"/zeotap-web-sdk-docs/docs/APIReference/setPageProperties"}}');var t=s(4848),r=s(8453);const d={sidebar_position:1,title:"Set User Identities",description:"Send identifiers to persistently identify user activity across the website."},a=void 0,l={},h=[{value:"Identifiers",id:"identifiers",level:2},{value:"Personal Identifiable Information (PII)",id:"personal-identifiable-information-pii",level:3},{value:"Recognised Raw Keys",id:"recognised-raw-keys",level:4},{value:"Recognised Hashed Keys",id:"recognised-hashed-keys",level:4},{value:"Custom Identities",id:"custom-identities",level:3},{value:"Hashing Scenrios",id:"hashing-scenrios",level:2},{value:"Raw",id:"raw",level:3},{value:"Already Hashed",id:"already-hashed",level:3},{value:"Hashing to be done by Zeotap",id:"hashing-to-be-done-by-zeotap",level:3}];function o(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Description:"}),"\nThis function is used to associate user activities with various identifiers. It accepts an object of key-value pairs where the keys represent the type of identifier (e.g., ",(0,t.jsx)(i.code,{children:"userId"}),", ",(0,t.jsx)(i.code,{children:"email"}),", ",(0,t.jsx)(i.code,{children:"cellno"}),") and the values are the corresponding identifier values."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"Example:"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",children:"window.zeotap.setUserIdentities( {\n  'email': 'user@example.com',\n  'userId': '456',\n  'customerId': 'ABC-789'\n});\n"})}),"\n",(0,t.jsx)(i.admonition,{title:"Note",type:"tip",children:(0,t.jsx)(i.p,{children:"Identifiers set using setUserIdentities() will be persisted and passed in user node of payload all subsequent events."})}),"\n",(0,t.jsx)(i.h2,{id:"identifiers",children:"Identifiers"}),"\n",(0,t.jsx)(i.p,{children:"The user identities can be categorised as below."}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Personal Identifiable Information (PII)","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Raw User PII"}),"\n",(0,t.jsx)(i.li,{children:"Hashed User PII"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:"Custom Identities"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"personal-identifiable-information-pii",children:"Personal Identifiable Information (PII)"}),"\n",(0,t.jsx)(i.p,{children:"Personal Identifiable Information (PII) is any data that can confirm an individual's identity. Examples of PII include name, email address, telephone number, address, and other attributes of an individual\u2019s demographic, financial, health, and other personal details. PII can be categorized as Raw User PII and Hashed User PII."}),"\n",(0,t.jsx)(i.h4,{id:"recognised-raw-keys",children:"Recognised Raw Keys"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Raw Key"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"fpuid"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"This is the first-party ID for a given user, such as a CRM ID or DB ID."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"email"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"This is the user's raw email address."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"cellno"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsxs)(i.td,{children:["This is the user's raw cell phone number. Recommended format: ",(0,t.jsx)(i.code,{children:"code<space>number"})]})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"loginid"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"This is the user\u2019s login ID logged."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)("span",{style:{color:"red","text-decoration":"line-through"},children:"cellno_cc"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)("span",{style:{color:"red"},children:"String"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)("span",{style:{color:"red"},children:"This key is deprecated."})})]})]})]}),"\n",(0,t.jsx)(i.h4,{id:"recognised-hashed-keys",children:"Recognised Hashed Keys"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"PII Property"}),(0,t.jsx)(i.th,{children:"Hashed Key"}),(0,t.jsx)(i.th,{children:"Type"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"email"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"email_sha256_lowercase, email_sha256_uppercase, email_md5_lowercase, email_md5_uppercase, email_sha1_lowercase, email_sha1_uppercase"}),(0,t.jsx)(i.td,{children:"These are user email in hashed format"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"cellno"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"cellno_without_country_code_sha256, cellno_without_country_code_md5, cellno_without_country_code_sha1, cellno_with_country_code_sha256, cellno_with_country_code_md5,cellno_with_country_code_sha1"}),(0,t.jsx)(i.td,{children:"These are user hashed cellno"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"loginid"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"loginid_sha256_lowercase, loginid_sha256_uppercase, loginid_md5_lowercase, loginid_md5_uppercase, loginid_sha1_lowercase, loginid_sha1_uppercase"}),(0,t.jsx)(i.td,{children:"This is the user\u2019s login ID that is hashed and logged."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"fpuid"}),(0,t.jsx)(i.td,{children:"String"}),(0,t.jsx)(i.td,{children:"fpuid"}),(0,t.jsx)(i.td,{children:"This is the first-party ID for a given user, such as a CRM ID or DB ID."})]})]})]}),"\n",(0,t.jsx)(i.admonition,{title:"Note",type:"tip",children:(0,t.jsxs)(i.p,{children:["Checkout how the cellno handling and processing is done by sdk ",(0,t.jsx)(i.a,{href:"../FAQs/howToSendCellno",children:"here"})]})}),"\n",(0,t.jsx)(i.h3,{id:"custom-identities",children:"Custom Identities"}),"\n",(0,t.jsx)(i.p,{children:"Custom identities are the identities that the client chooses to input and can be any of their first-party identifiers. Note that the hashing configurations are not applicable for custom identities. Some examples of custom identities are crmID, ECID and visitorID."}),"\n",(0,t.jsxs)(i.p,{children:["You can pass the custom identities in the format shown below. ",(0,t.jsx)(i.code,{children:"zeotap.setUserIdentities({crmId:'...'})"})]}),"\n",(0,t.jsx)(i.h2,{id:"hashing-scenrios",children:"Hashing Scenrios"}),"\n",(0,t.jsx)(i.h3,{id:"raw",children:"Raw"}),"\n",(0,t.jsx)(i.p,{children:"This is the simplest case where you provide raw, unhashed identifiers like email addresses or phone numbers directly to the SDK. The SDK sends these values as-is to the Zeotap backend."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Implementation"})})}),"\n",(0,t.jsxs)(i.p,{children:["To ensure the SDK does ",(0,t.jsx)(i.strong,{children:"not"})," automatically hash the raw identifiers you provide, you must explicitly set ",(0,t.jsx)(i.code,{children:"{`hashIdentities: false`, `areIdentitiesHashed: false`}"})," during initialization."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",metastring:'title="SDK Initialization"',children:'// 1. Initialize SDK\nwindow.zeotap.init("YOUR_WRITE_KEY", {hashIdentities: false, areIdentitiesHashed: false});\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",metastring:'title="Set User Identities Implementation"',children:"// 2. Set raw identities\nwindow.zeotap.setUserIdentities({\nemail: 'user@example.com',       // Raw email\nphone: '+1 5551234567',         // Raw phone number\nuserId: 'customer-abc-123'     // Your internal ID (usually not hashed)\n});\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Check out this ",(0,t.jsx)(i.a,{href:"../Examples/setUserIdentities_Raw",children:"example"})]}),"\n",(0,t.jsx)(i.h3,{id:"already-hashed",children:"Already Hashed"}),"\n",(0,t.jsxs)(i.p,{children:["This example demonstrates how to use the ",(0,t.jsx)(i.code,{children:"setUserIdentities"})," method when your application has ",(0,t.jsx)(i.em,{children:"already"})," hashed the user identifiers (like email or phone number) before calling the Zeotap SDK. This is common if hashing is done server-side or via separate client-side logic."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Implementation"})})}),"\n",(0,t.jsx)(i.p,{children:"You must configure the SDK during initialization to indicate that the identities you will provide are pre-hashed. This prevents the SDK from attempting to hash them again."}),"\n",(0,t.jsxs)(i.p,{children:["Set the ",(0,t.jsx)(i.code,{children:"areIdentitiesHashed"})," flag to ",(0,t.jsx)(i.code,{children:"true"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",metastring:'title="SDK Initialization"',children:'// Initialize SDK, indicating provided identities are already hashed\nwindow.zeotap.init("YOUR_WRITE_KEY", {\nareIdentitiesHashed: true\n});\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",metastring:'title="Set User Identities Implementation"',children:"// Assume these hashes were generated by your system (e.g., SHA-256)\nconst preHashedEmailSha256 = 'a1b2c3d4e5f6...'; // Example SHA-256 hash of the email lowercase\nconst preHashedPhoneWithCCSha256 = 'f6e5d4c3b2a1...'; // Example SHA-256 hash of the phone with country code\n\n// 2. Set pre-hashed identities using specific keys\nwindow.zeotap.setUserIdentities({\nemail_sha256_lowercase : preHashedEmailSha256,   // Provide the pre-hashed email\ncellno_with_country_code_sha256: preHashedPhoneWithCCSha256,   // Provide the pre-hashed phone\nuserId: 'customer-abc-123'\n});\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Check out this ",(0,t.jsx)(i.a,{href:"../Examples/setUserIdentities_Hashed",children:"example"})]}),"\n",(0,t.jsx)(i.h3,{id:"hashing-to-be-done-by-zeotap",children:"Hashing to be done by Zeotap"}),"\n",(0,t.jsxs)(i.p,{children:["This example demonstrates how to use the ",(0,t.jsx)(i.code,{children:"setUserIdentities"})," method when you have raw identifiers (like email or phone number) and want the Zeotap SDK to automatically hash them client-side before sending them to the backend. This approach enhances privacy by ensuring raw PII doesn't leave the browser via the SDK's network requests."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Implementation"})})}),"\n",(0,t.jsx)(i.p,{children:"You need to configure the SDK during initialization to enable its built-in hashing functionality."}),"\n",(0,t.jsxs)(i.p,{children:["Set the ",(0,t.jsx)(i.code,{children:"hashIdentities"})," flag to ",(0,t.jsx)(i.code,{children:"true"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",metastring:'title="SDK Initialization"',children:'// 1. Initialize SDK, enabling automatic client-side hashing\nwindow.zeotap.init("YOUR_WRITE_KEY", {hashIdentities: true});\n'})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-javascript",metastring:'title="Set User Identities Implementation"',children:"// 2. Set the identities\nwindow.zeotap.setUserIdentities({\nemail: 'user@example.com',       // Provide RAW email\nphone: '+1 5551234567',         // Provide RAW phone number\nuserId: 'customer-abc-123'     // Internal IDs are typically not hashed\n});\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Check out this ",(0,t.jsx)(i.a,{href:"../Examples/setUserIdentities_needHashing",children:"example"})]})]})}function c(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,i,s)=>{s.d(i,{R:()=>d,x:()=>a});var n=s(6540);const t={},r=n.createContext(t);function d(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);