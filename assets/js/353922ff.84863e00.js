"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[8699],{1340:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/GTM_NeedsHashing-fbea227b92aa54b51596dbf980f507dd.png"},2199:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/GTM_UserAttributes-09e5d4310ad8172993f32d86881be4fc.png"},2746:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/GTM_userIdentities-35b6953c64758974273ad3cd749db43e.png"},8438:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/GTM_Hashed-e312597bd66a629c6d8e984ddbba76da.png"},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}},8995:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"SetupGuide/Configuration/login","title":"3. Login and Identity Settings","description":"Configure how the Zeotap Collect Tag handles login events, hashed/raw identities, and logout handling in Google Tag Manager.","source":"@site/docs/gtm/SetupGuide/Configuration/login.md","sourceDirName":"SetupGuide/Configuration","slug":"/SetupGuide/Configuration/login","permalink":"/zeotap-web-sdk-docs/gtm/docs/SetupGuide/Configuration/login","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1748239245000,"sidebarPosition":3,"frontMatter":{"title":"3. Login and Identity Settings","sidebar_position":3,"description":"Configure how the Zeotap Collect Tag handles login events, hashed/raw identities, and logout handling in Google Tag Manager."},"sidebar":"gtm","previous":{"title":"2. Tracking Page Views and Events","permalink":"/zeotap-web-sdk-docs/gtm/docs/SetupGuide/Configuration/tracking"},"next":{"title":"4. Google Analytics Configuration","permalink":"/zeotap-web-sdk-docs/gtm/docs/SetupGuide/Configuration/googleAnalytics"}}');var t=i(4848),r=i(8453);const o={title:"3. Login and Identity Settings",sidebar_position:3,description:"Configure how the Zeotap Collect Tag handles login events, hashed/raw identities, and logout handling in Google Tag Manager."},d="3. Login and Identity Settings",l={},a=[{value:"Login Event",id:"login-event",level:2},{value:"Are Your Identities Hashed?",id:"are-your-identities-hashed",level:2},{value:"Configuration for Hashed Identities:",id:"configuration-for-hashed-identities",level:3},{value:"Hashed Email",id:"hashed-email",level:4},{value:"Hashed Cellphone with Country Code",id:"hashed-cellphone-with-country-code",level:4},{value:"Hashed Login ID",id:"hashed-login-id",level:4},{value:"Is Hashing of Raw Identities Required?",id:"is-hashing-of-raw-identities-required",level:2},{value:"Configuration for Raw Identities:",id:"configuration-for-raw-identities",level:3},{value:"Raw Email",id:"raw-email",level:4},{value:"Raw Cellphone with Country Code",id:"raw-cellphone-with-country-code",level:4},{value:"Raw Login ID",id:"raw-login-id",level:4},{value:"Create First Party ID+ Cookie on Login",id:"create-first-party-id-cookie-on-login",level:2},{value:"Organisation Partner ID",id:"organisation-partner-id",level:2},{value:"User Logout",id:"user-logout",level:2},{value:"User Attributes",id:"user-attributes",level:2},{value:"Example GTM Variables:",id:"example-gtm-variables",level:3}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"3-login-and-identity-settings",children:"3. Login and Identity Settings"})}),"\n",(0,t.jsx)(n.p,{children:"This section of the Zeotap Collect Tag setup guides you through configuring how login events and identity information (such as email, phone number, and login ID) are handled within Google Tag Manager (GTM)."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"login-event",children:"Login Event"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose"}),": Specifies the ",(0,t.jsx)(n.code,{children:"dataLayer"})," event name that is fired when a user logs in or when an user identity is to stored."]}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"These Identities will be stored and persisted across all the subsequent calls to zeotap."})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"dataLayer.push({\n  event: 'user_logged_in',\n  email: 'user@example.com',\n  phone: '1 4155552671',\n  loginid: 'user123'\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Action"}),":",(0,t.jsx)(n.br,{}),"\n","In the tag configuration, set the Login Event field to match your event name (e.g., ",(0,t.jsx)(n.code,{children:"user_logged_in"}),")."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Login Event Trigger in GTM",src:i(2746).A+"",width:"3448",height:"1638"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"are-your-identities-hashed",children:"Are Your Identities Hashed?"}),"\n",(0,t.jsxs)(n.p,{children:["Check this option ",(0,t.jsx)(n.strong,{children:"only"})," if your identity values (email, phone, login ID) are already hashed when pushed to the ",(0,t.jsx)(n.code,{children:"dataLayer"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"configuration-for-hashed-identities",children:"Configuration for Hashed Identities:"}),"\n",(0,t.jsx)(n.h4,{id:"hashed-email",children:"Hashed Email"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable: ",(0,t.jsx)(n.strong,{children:'"Capture hashed email"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Add Row"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Hash Algorithm"})," (e.g., SHA-256)"]}),"\n",(0,t.jsxs)(n.li,{children:["Choose your GTM Variable (e.g., ",(0,t.jsx)(n.code,{children:"{{Hashed Email}}"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"hashed-cellphone-with-country-code",children:"Hashed Cellphone with Country Code"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable: ",(0,t.jsx)(n.strong,{children:'"Capture hashed cellphone number with country code"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Add Row"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Hash Algorithm"})," (e.g., SHA-256)"]}),"\n",(0,t.jsxs)(n.li,{children:["Choose your GTM Variable (e.g., ",(0,t.jsx)(n.code,{children:"{{Hashed Phone}}"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"hashed-login-id",children:"Hashed Login ID"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable: ",(0,t.jsx)(n.strong,{children:'"Capture hashed Loginid"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Click ",(0,t.jsx)(n.strong,{children:"Add Row"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Select ",(0,t.jsx)(n.strong,{children:"Hash Algorithm"})," (e.g., SHA-256)"]}),"\n",(0,t.jsxs)(n.li,{children:["Choose your GTM Variable (e.g., ",(0,t.jsx)(n.code,{children:"{{Hashed Login ID}}"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Hashed Identities Settings",src:i(8438).A+"",width:"3456",height:"1346"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"is-hashing-of-raw-identities-required",children:"Is Hashing of Raw Identities Required?"}),"\n",(0,t.jsxs)(n.p,{children:["Enable this ",(0,t.jsx)(n.strong,{children:"only"})," if your identity values are in raw format (e.g., plain email or phone) and need to be ",(0,t.jsx)(n.strong,{children:"hashed by the tag"})," before sending to Zeotap."]}),"\n",(0,t.jsx)(n.h3,{id:"configuration-for-raw-identities",children:"Configuration for Raw Identities:"}),"\n",(0,t.jsx)(n.h4,{id:"raw-email",children:"Raw Email"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable: ",(0,t.jsx)(n.strong,{children:'"Capture Email"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Select Variable (e.g., ",(0,t.jsx)(n.code,{children:"{{Email}}"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"raw-cellphone-with-country-code",children:"Raw Cellphone with Country Code"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable: ",(0,t.jsx)(n.strong,{children:'"Capture cellphone number with country code"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Select Variable (e.g., ",(0,t.jsx)(n.code,{children:"{{Phone Number}}"}),")"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"raw-login-id",children:"Raw Login ID"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Enable: ",(0,t.jsx)(n.strong,{children:'"Capture Loginid"'})]}),"\n",(0,t.jsxs)(n.li,{children:["Select Variable (e.g., ",(0,t.jsx)(n.code,{children:"{{Login ID}}"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To learn more about supported hashing algorithms and formatting guidelines, ",(0,t.jsx)(n.a,{href:"#",children:"refer to our hashing guidelines"}),".  //TODO\n",(0,t.jsx)(n.img,{alt:"Raw Identity Hashing Settings",src:i(1340).A+"",width:"3418",height:"1232"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"//TODO"}),"\n",(0,t.jsx)(n.admonition,{title:"Deprecated",type:"warning",children:(0,t.jsx)(n.p,{children:"ID+ usage is deprecated."})}),"\n",(0,t.jsx)(n.h2,{id:"create-first-party-id-cookie-on-login",children:"Create First Party ID+ Cookie on Login"}),"\n",(0,t.jsxs)(n.p,{children:["If you are a ",(0,t.jsx)(n.strong,{children:"Publisher using Zeotap\u2019s ID+ services"}),", enable this checkbox to trigger the creation of a first-party ID+ cookie on user login."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"This requires that you have enabled ID+ for your organization."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"organisation-partner-id",children:"Organisation Partner ID"}),"\n",(0,t.jsxs)(n.p,{children:["Enter the ",(0,t.jsx)(n.strong,{children:"Partner ID"})," provided by Zeotap.",(0,t.jsx)(n.br,{}),"\n","This field is required for using ID+ services."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Example: ",(0,t.jsx)(n.code,{children:"zeotap-partner-12345"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"user-logout",children:"User Logout"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose"}),": Identifies the ",(0,t.jsx)(n.code,{children:"dataLayer"})," event that should ",(0,t.jsx)(n.strong,{children:"unset identity values"})," (email, phone, loginid) from the user profile."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"dataLayer.push({\n  event: 'user_logged_out'\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Action"}),":",(0,t.jsx)(n.br,{}),"\n","Set this to the event name (e.g., ",(0,t.jsx)(n.code,{children:"user_logged_out"}),") in your tag configuration."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Logout Event Settings",src:i(2199).A+"",width:"3456",height:"1280"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"user-attributes",children:"User Attributes"}),"\n",(0,t.jsxs)(n.p,{children:["Use this section to provide ",(0,t.jsx)(n.strong,{children:"additional user information"})," to be sent to Zeotap."]}),"\n",(0,t.jsx)(n.h3,{id:"example-gtm-variables",children:"Example GTM Variables:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Attribute Key"}),(0,t.jsx)(n.th,{children:"GTM Variable"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"userType"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{{User Type}}"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"subscriptionPlan"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{{Subscription Plan}}"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"loyaltyScore"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"{{Loyalty Score}}"})})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Action"}),":",(0,t.jsx)(n.br,{}),"\n","Map each GTM variable to the corresponding attribute key. These will be included in ",(0,t.jsx)(n.code,{children:"setUserProperties"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["A call to zeotap will be made with ",(0,t.jsx)(n.code,{children:"eventName: 'set_user_properties'"})," with the set user properties in the user node of the paylod."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"These properties are not persisted across subsequent calls to zeotap."})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"User Attributes Mapping",src:i(2199).A+"",width:"3456",height:"1280"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["Still need help? ",(0,t.jsx)(n.a,{href:"https://www.zeotap.com/contact-us",children:"Contact Zeotap Support"})]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}}}]);