"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[587],{8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var r=t(6540);const n={},i=r.createContext(n);function o(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(i.Provider,{value:s},e.children)}},9822:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"APIReference/setUserProperties","title":"Setting User Properties","description":"Send user attributes as a dedicated event.","source":"@site/docs/APIReference/setUserProperties.md","sourceDirName":"APIReference","slug":"/APIReference/setUserProperties","permalink":"/zeotap-web-sdk-docs/docs/APIReference/setUserProperties","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/APIReference/setUserProperties.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Setting User Properties","description":"Send user attributes as a dedicated event."},"sidebar":"DocumentationSidebar","previous":{"title":"Tracking User Actions","permalink":"/zeotap-web-sdk-docs/docs/APIReference/setEventProperties"},"next":{"title":"Tracking User Consent","permalink":"/zeotap-web-sdk-docs/docs/APIReference/setConsent"}}');var n=t(4848),i=t(8453);const o={sidebar_position:4,title:"Setting User Properties",description:"Send user attributes as a dedicated event."},a="Setting User Properties",d={},c=[];function l(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"setting-user-properties",children:"Setting User Properties"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"window.zeotap.setUserProperties()"})," function allows you to send specific user attributes to Zeotap as a dedicated event named ",(0,n.jsx)(s.code,{children:"set_user_properties"}),". This is useful for capturing and transmitting user-level information that might not be directly tied to a specific page view or action, but is still valuable for understanding the user."]}),"\n",(0,n.jsx)(s.admonition,{title:"PII Behaviour",type:"note",children:(0,n.jsxs)(s.p,{children:["PIIs (like ",(0,n.jsx)(s.code,{children:"cellno"}),", ",(0,n.jsx)(s.code,{children:"email"}),", ",(0,n.jsx)(s.code,{children:"loginid"}),") sent via ",(0,n.jsx)(s.code,{children:"setUserProperties"})," are always hashed by the SDK before being sent to the backend. This behavior is similar to ",(0,n.jsx)(s.a,{href:"./setUserIdentities/#sdk-performs-hashing",children:"Scenario 3. SDK Perform Hashing"})," of the ",(0,n.jsx)(s.code,{children:"setUserIdentities"})," function."]})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Key Characteristics:"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Immediate Event:"})," Calling ",(0,n.jsx)(s.code,{children:"setUserProperties"})," immediately triggers an event with the name ",(0,n.jsx)(s.code,{children:"set_user_properties"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Non-Persistent:"})," The properties sent via this method are associated with this specific ",(0,n.jsx)(s.code,{children:"set_user_properties"})," event. They are ",(0,n.jsx)(s.strong,{children:"not"})," automatically persisted in the browser's local storage or cookies by the SDK, nor are they automatically included with subsequent, different events (like page views or custom events triggered by ",(0,n.jsx)(s.code,{children:"setEventProperties"}),")."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsxs)(s.strong,{children:["Distinct from ",(0,n.jsx)(s.a,{href:"./setUserIdentities",children:(0,n.jsx)(s.code,{children:"setUserIdentities"})}),":"]})," This function is different from ",(0,n.jsx)(s.code,{children:"setUserIdentities"}),", which is used for establishing and persisting core user identifiers. ",(0,n.jsx)(s.code,{children:"setUserProperties"})," is for sending additional, often more dynamic or contextual, user-level attributes."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Parameters"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"properties"})," (Object): An object containing key-value pairs representing the user properties.","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Keys should be strings."}),"\n",(0,n.jsx)(s.li,{children:"Values can be strings, numbers, or booleans."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Usage Example"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-javascript",metastring:'title="Sending user segment and a custom preference"',children:"\nwindow.zeotap.setUserProperties({\n  userSegment: 'loyal_customer',\n  communicationPreference: 'email_only',\n  lastPurchaseCategory: 'electronics',\n  email: 'user@example.com'\n});\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Verification"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",metastring:'title="Event properties in payload" {5,12-22}',children:'            "events": [\n                {\n                "event": {\n                    "id": "m9Tva77fUH4ILi3SPBBVn",\n                    "eventName": "set_user_properties", //set_user_properties event name,\n                    "eventTimestamp": 1745959356443\n                },\n                "user": {\n                    "zs": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",\n                    "zi": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",\n                    "zi_domain": ".zeotap.com",\n                    "userSegment": "loyal_customer",\n                    "communicationPreference": "email_only",\n                    "lastPurchaseCategory": "electronics",\n                    "email": {\n                        "sha256_lowercase": "sha256_hash_of_user@example.com", // SDK generated\n                        "sha256_uppercase": "sha256_hash_of_USER@EXAMPLE.COM", // SDK generated\n                        "md5_lowercase": "md5_hash_of_user@example.com",   // SDK generated\n                        "md5_uppercase": "md5_hash_of_USER@EXAMPLE.COM",   // SDK generated\n                        "sha1_lowercase": "sha1_hash_of_user@example.com",  // SDK generated\n                        "sha1_uppercase": "sha1_hash_of_USER@EXAMPLE.COM"   // SDK generated\n                    }\n                },\n                "page": { \n                    "path": "/products",\n                    "referrer": "https://test.zeotap.com/",\n                    "url": "https://test.zeotap.com/product1"\n                },\n                "version": "4.4.3"\n                }\n            ]\n'})}),"\n",(0,n.jsx)(s.p,{children:"To verify that user property setting is working:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["Open your browser's ",(0,n.jsx)(s.strong,{children:"Developer Tools"})," (",(0,n.jsx)(s.code,{children:"F12"})," or right-click \u2192 ",(0,n.jsx)(s.em,{children:"Inspect"}),")."]}),"\n",(0,n.jsxs)(s.li,{children:["Go to the ",(0,n.jsx)(s.strong,{children:"Network"})," tab."]}),"\n",(0,n.jsx)(s.li,{children:"Trigger a page view in your application."}),"\n",(0,n.jsxs)(s.li,{children:["Look for a network ",(0,n.jsx)(s.code,{children:"POST"})," request sent to ",(0,n.jsx)(s.code,{children:"https://spl.zeotap.com/fp?"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["Check for the request with ",(0,n.jsx)(s.code,{children:"eventName"}),": ",(0,n.jsx)(s.code,{children:"set_user_properties"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["The payload should contain a ",(0,n.jsx)(s.code,{children:"user"})," object with the key-value pairs you passed to ",(0,n.jsx)(s.code,{children:"setUserProperties"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["After the ",(0,n.jsx)(s.code,{children:"setUserProperties"})," call, trigger a different event (e.g., using ",(0,n.jsx)(s.code,{children:"setEventProperties('another_event', { some_data: 'value' })"}),")."]}),"\n",(0,n.jsx)(s.li,{children:"Inspect the network request for this new event."}),"\n",(0,n.jsxs)(s.li,{children:["Verify that the properties sent via ",(0,n.jsx)(s.code,{children:"setUserProperties"})," are ",(0,n.jsx)(s.em,{children:"not"})," present in the payload of this subsequent event, confirming their non-persistent nature for other event types."]}),"\n"]}),"\n",(0,n.jsx)(s.h1,{id:"use-cases",children:"Use Cases"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Capturing User Preferences:"}),' Sending user-defined preferences like "newsletter_opt_in: true" or "preferred_language: \'en\'".']}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Demographic Information:"})," Transmitting demographic data like \"age_group: '25-34'\" or \"gender: 'female'\" if collected with consent."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"User Segmentation Data:"})," Sending segment information derived from your system, e.g., \"customer_tier: 'Gold'\"."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Profile Updates:"})," Updating specific attributes about a user that are not core identifiers."]}),"\n"]}),"\n",(0,n.jsx)(s.h1,{id:"setuserproperties-vs-setuseridentities",children:"setUserProperties vs setUserIdentities"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Feature"}),(0,n.jsx)(s.th,{children:"setUserProperties"}),(0,n.jsx)(s.th,{children:"setUserIdentities"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Triggers Event?"}),(0,n.jsx)(s.td,{children:"Yes, immediately (set_user_properties event)"}),(0,n.jsx)(s.td,{children:"No, updates internal state"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Persistence"}),(0,n.jsx)(s.td,{children:"Not persisted in browser storage"}),(0,n.jsx)(s.td,{children:"Persisted in browser storage (session/local/cookie)"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Event Association"}),(0,n.jsxs)(s.td,{children:["Sent with its own ",(0,n.jsx)(s.code,{children:"set_user_properties"})," event"]}),(0,n.jsx)(s.td,{children:"Sent with all subsequent events until cleared/updated"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Primary Use"}),(0,n.jsx)(s.td,{children:"Sending specific, non-persistent user attributes"}),(0,n.jsx)(s.td,{children:"Establishing and maintaining stable user identifiers"})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);