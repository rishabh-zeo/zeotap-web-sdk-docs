"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[6730],{1390:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/GTM_DefaultConsent-ac7e7d1477d0ad702152b6e182067dc5.png"},4241:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/GTM_BasicConfig-3e0d2460a89840d0348c5417dd8c5b6a.png"},5951:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"SetupGuide/Configuration/initialisation","title":"1. Initialization Options","description":"Configure the core settings for the Zeotap Collect Tag, including Write Key, User Country, Event Key, Data Persistence, and Consent Method.","source":"@site/docs/gtm/SetupGuide/Configuration/initialisation.md","sourceDirName":"SetupGuide/Configuration","slug":"/SetupGuide/Configuration/initialisation","permalink":"/zeotap-web-sdk-docs/gtm/docs/SetupGuide/Configuration/initialisation","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1748239245000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"1. Initialization Options","description":"Configure the core settings for the Zeotap Collect Tag, including Write Key, User Country, Event Key, Data Persistence, and Consent Method."},"sidebar":"gtm","previous":{"title":"Tag Configuration Overview","permalink":"/zeotap-web-sdk-docs/gtm/docs/SetupGuide/Configuration/configurations"},"next":{"title":"2. Tracking Page Views and Events","permalink":"/zeotap-web-sdk-docs/gtm/docs/SetupGuide/Configuration/tracking"}}');var i=s(4848),o=s(8453);const r={sidebar_position:1,title:"1. Initialization Options",description:"Configure the core settings for the Zeotap Collect Tag, including Write Key, User Country, Event Key, Data Persistence, and Consent Method."},a="1. Initialization Options",c={},d=[{value:"Basic Configuration",id:"basic-configuration",level:2},{value:"Write Key",id:"write-key",level:3},{value:"User Country",id:"user-country",level:3},{value:"Event Key",id:"event-key",level:3},{value:"Data Persistence",id:"data-persistence",level:3},{value:"Consent Method",id:"consent-method",level:2},{value:"a) Default Opt-in",id:"a-default-opt-in",level:3},{value:"b) Check TCF CMP (IAB Transparency and Consent Framework)",id:"b-check-tcf-cmp-iab-transparency-and-consent-framework",level:3},{value:"c) Custom Consent",id:"c-custom-consent",level:3},{value:"Additional Consent Options",id:"additional-consent-options",level:3},{value:"1. Include TC String in the requests",id:"1-include-tc-string-in-the-requests",level:4},{value:"2. Include brand consent in the requests",id:"2-include-brand-consent-in-the-requests",level:4}];function l(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"1-initialization-options",children:"1. Initialization Options"})}),"\n",(0,i.jsx)(n.p,{children:"This is the first and most crucial step in configuring your Zeotap Collect Tag in Google Tag Manager. These settings define how the tag authenticates, handles data storage regions, identifies events, manages user identifiers across domains, and processes user consent."}),"\n",(0,i.jsx)(n.p,{children:"Carefully configure the following fields:"}),"\n",(0,i.jsx)(n.h2,{id:"basic-configuration",children:"Basic Configuration"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Basic Configurations",src:s(4241).A+"",width:"3456",height:"1436"})}),"\n",(0,i.jsx)(n.h3,{id:"write-key",children:"Write Key"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Uniquely identifies your GTM-based source in your Zeotap CDP account."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Details"}),": This key is ",(0,i.jsx)(n.strong,{children:"mandatory"})," for recording any events. You will find this write key in the source details section of your Zeotap CDP account after creating a GTM-based source."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Enter the provided Write Key."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"user-country",children:"User Country"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),': Specifies the ISO Alpha 3 country code (e.g., "USA", "DEU") to determine the geographical region for data storage.']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Details"}),": If this field is left blank, Zeotap servers will attempt to determine the region based on the user's IP address. It is recommended to use this field if your Zeotap account is configured for specific data storage regions to ensure compliance and proper data handling."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Enter the ISO Alpha 3 country code if applicable."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"event-key",children:"Event Key"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Defines the key in the ",(0,i.jsx)(n.code,{children:"dataLayer"})," object that holds the event name."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Details"}),": If you are using Google Tag Manager's default event key, which is ",(0,i.jsx)(n.code,{children:"event"}),", you can leave this field empty. If your setup uses a different key to pass event names in the dataLayer (e.g., ",(0,i.jsx)(n.code,{children:"custom_event_name"}),"), specify that key here."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Enter your custom dataLayer event key if not using the GTM default (",(0,i.jsx)(n.code,{children:"event"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"data-persistence",children:"Data Persistence"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Manages user identification across multiple domains or subdomains owned by your organization."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Details"}),": When users navigate between different domains (e.g., ",(0,i.jsx)(n.code,{children:"brand.com"})," to ",(0,i.jsx)(n.code,{children:"shop.brand.com"})," or ",(0,i.jsx)(n.code,{children:"anotherbrand.com"}),"), user identifiers might be reset by default. To prevent this and maintain a consistent user view, enable this option."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Check the ",(0,i.jsx)(n.strong,{children:"Persist data in cookie storage"})," checkbox if you operate a multi-domain website and need to track users seamlessly across these domains. This will store identifiers in cookie storage, making them accessible irrespective of the current domain."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"consent-method",children:"Consent Method"}),"\n",(0,i.jsx)(n.p,{children:"This setting determines how the Zeotap Collect SDK handles user consent for data collection. It is crucial for compliance with privacy regulations like GDPR."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Note"}),': Regardless of the chosen method, you have the option to send Brand Consent. "Additional Consent Settings" can be used to send TC strings and custom brand consent information.']}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Choose one of the following options:"}),"\n",(0,i.jsx)(n.h3,{id:"a-default-opt-in",children:"a) Default Opt-in"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Default Consent",src:s(1390).A+"",width:"3456",height:"1108"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Behavior"}),": Sets the ",(0,i.jsx)(n.code,{children:"optOut"})," flag in the SDK to ",(0,i.jsx)(n.code,{children:"false"})," by default, meaning events are recorded unless an explicit opt-out is signaled."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Case"}),": Select this if you manage consent through other mechanisms (e.g., server-side, API integration, file upload) and only want the GTM tag to fire for users who have already consented. The communication of consent status happens outside this GTM tag's direct logic."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),': You can use "Additional Consent Settings" to pass TC String and custom brand consent details if needed.']}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"b-check-tcf-cmp-iab-transparency-and-consent-framework",children:"b) Check TCF CMP (IAB Transparency and Consent Framework)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"TCF Consent",src:s(6298).A+"",width:"3456",height:"1708"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Behavior"}),": Sets ",(0,i.jsx)(n.code,{children:"useConsent"})," and ",(0,i.jsx)(n.code,{children:"checkForCMP"})," options in the SDK to ",(0,i.jsx)(n.code,{children:"true"}),". The SDK will automatically look for a TCF-compliant Consent Management Platform (CMP) on your website. It does this by checking for the ",(0,i.jsx)(n.code,{children:"cmp.js"})," script and the ",(0,i.jsx)(n.code,{children:"__cmp"})," variable in the global scope. It then queries the TCF API to fetch the latest publisher consent status before recording any events on each SDK load."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Case"}),": Select this if you use an IAB TCF v2.0 or v2.2 compliant CMP on your website."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purposes for tracking of events"}),": You ",(0,i.jsx)(n.strong,{children:"must"})," configure this parameter when using the GDPR consent module. This field requires you to specify a list of TCF Purpose IDs (e.g., ",(0,i.jsx)(n.code,{children:"1,2,3"}),") for which consent must be granted by the user for the SDK to track events. The SDK will check if the user has consented to ",(0,i.jsx)(n.em,{children:"all"})," specified purposes."]}),"\n",(0,i.jsx)(n.li,{children:'You can also use "Additional Consent Settings" to send custom brand consent alongside TCF signals.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"c-custom-consent",children:"c) Custom Consent"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Custom Consent",src:s(9320).A+"",width:"3456",height:"1768"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Behavior"}),": Allows you to define a custom consent management logic based on signals from your ",(0,i.jsx)(n.code,{children:"dataLayer"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Case"}),": Select this if you have a non-TCF CMP or a custom consent setup and want to control SDK behavior (tracking, cookie syncing) based on specific dataLayer events and variables."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),': When you select "Custom Consent," you need to specify the following in the "SDK Consent Signals" section:',"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Event name"}),": Choose the dataLayer event that is pushed when your custom consent status is determined or updated (e.g., ",(0,i.jsx)(n.code,{children:"custom_consent_ready"}),", ",(0,i.jsx)(n.code,{children:"consent_update"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Other Variables"}),": Map dataLayer variables to control the SDK's consent-related functionalities:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Track"})," signal: A dataLayer variable whose value (e.g., ",(0,i.jsx)(n.code,{children:"true"}),"/",(0,i.jsx)(n.code,{children:"false"}),") determines if event tracking is allowed."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Cookie Sync"})," signal: A dataLayer variable for managing cookie synchronization."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Identify"})," signal: Deprecated not required."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Note"}),': As with other methods, "Additional Consent Settings" can be used to send TC string and custom brand consent if needed.']}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"additional-consent-options",children:"Additional Consent Options"}),"\n",(0,i.jsx)(n.p,{children:'These settings provide supplementary ways to send consent information to Zeotap, often used in conjunction with or as an enhancement to the primary "Consent Method" selected above.'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Additional Consent",src:s(7838).A+"",width:"3456",height:"1418"})}),"\n",(0,i.jsx)(n.h4,{id:"1-include-tc-string-in-the-requests",children:"1. Include TC String in the requests"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": Enables the Zeotap Collect Tag to read and forward the IAB TCF (Transparency and Consent Framework) TC string from your Consent Management Platform (CMP) with its data collection requests."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Prerequisite"}),": A TCF API (compliant with TCF v2.0 or v2.2) must be available on the page for the SDK to successfully read the TC string."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Behavior & Configuration"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Simply check this box if you have a TCF-compliant CMP and want the TC string to be included."}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Important Note"}),': If your primary "Consent Method" (selected above) is set to ',(0,i.jsx)(n.strong,{children:"Custom Consent"})," or ",(0,i.jsx)(n.strong,{children:"Default Opt-in"}),', and you still want to leverage TCF consent specifically for Zeotap\'s cookie sync features, you must select this "Include TC String in the requests" checkbox. This ensures that even if primary tracking consent is handled differently, the TCF consent stored by Zeotap can be utilized for cookie synchronization purposes.']}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"2-include-brand-consent-in-the-requests",children:"2. Include brand consent in the requests"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),': Allows you to send custom consent signals specific to your brand, independent of or in addition to TCF signals. This can be used with any of the primary "Consent Method" options.']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Use Case"}),": Useful for capturing granular consent choices that are not covered by the standard TCF purposes or for proprietary consent frameworks."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configuration"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:['When you check "Include brand consent in the requests," you will typically need to configure the following:',"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Brand Consents Event name"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Specify the ",(0,i.jsx)(n.code,{children:"dataLayer"})," event name that is pushed when your custom brand consent information is set or updated on the page. For example, ",(0,i.jsx)(n.code,{children:"brand_consent_updated"})," or ",(0,i.jsx)(n.code,{children:"custom_preferences_set"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Brand Consent Key-Value Pairs"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Define the specific brand consent signals as key-value pairs. These are typically read from ",(0,i.jsx)(n.code,{children:"dataLayer"})," variables."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Key"}),": The name of the consent parameter (e.g., ",(0,i.jsx)(n.code,{children:"newsletter_optin"}),", ",(0,i.jsx)(n.code,{children:"product_recommendations"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Value"}),": The ",(0,i.jsx)(n.code,{children:"dataLayer"})," variable that holds the user's consent status for that key (e.g., ",(0,i.jsx)(n.code,{children:"{{dlv_newsletter_consent}}"}),", ",(0,i.jsx)(n.code,{children:"{{dlv_product_recs_consent}}"})," which might resolve to ",(0,i.jsx)(n.code,{children:"true"}),"/",(0,i.jsx)(n.code,{children:"false"}),", ",(0,i.jsx)(n.code,{children:"granted"}),"/",(0,i.jsx)(n.code,{children:"denied"}),", etc.)."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By configuring these additional options, you can achieve a more nuanced and comprehensive approach to managing and communicating user consent through the Zeotap GTM Tag."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},6298:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/GTM_GDPRConsent-611f536d7c536ad497c6d651d0c9a6fe.png"},7838:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/GTM_AdditionalConsent-1e397d90fa36621bfb51c252aac831c7.png"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}},9320:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/GTM_CustomConsent-a71d57877ad9c3d5b3e80d5dea751ec5.png"}}]);